\doxysection{Comm\+Interface\texorpdfstring{$<$}{<} interface\+\_\+type \texorpdfstring{$>$}{>} Class Template Reference}
\hypertarget{class_comm_interface}{}\label{class_comm_interface}\index{CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}}


Template for generic communication-\/interface specifies a standardized interface to use for integrating any hardware-\/interface (e.\+g. Software\+Serial, One\+Wire...) into a Service-\/\+Interface The template ensures the correct handling of send-\/ and receive-\/buffers of the interface\+:  




{\ttfamily \#include $<$Comm\+Interface.\+h$>$}

Inheritance diagram for Comm\+Interface\texorpdfstring{$<$}{<} interface\+\_\+type \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_comm_interface}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_comm_interface_a036d6ee859c4aa352083626e3d852da2}{Comm\+Interface}} (interface\+\_\+type \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{class_comm_interface_a500d5da6b485fc7450fbd8c9afd79374}{interface}}, uint32\+\_\+t baudrate)
\begin{DoxyCompactList}\small\item\em Construct a new Comm-\/\+Interface object. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_comm_interface_a21c8ee8eddb3011e89b950f1b5264664}{send\+New\+Frame}} (\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \texorpdfstring{$\ast$}{*}send\+Frame)
\begin{DoxyCompactList}\small\item\em Specify the next frame to be sent by the interface, no overwrite, if the send\+Buffer is already pointing to another frame. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_comm_interface_a9a27c7221b188bde1632a7c44f79b493}{finished\+Sending}} ()
\begin{DoxyCompactList}\small\item\em Check, if the \doxylink{class_frame}{Frame} was sent and the \doxylink{class_comm_interface}{Comm\+Interface} is ready to send the next \doxylink{class_frame}{Frame} Interface is ready to send a new frame, if the send\+Buffer is nullpointer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_comm_interface_a446d6dfeb4dd695c061f1ff1c926fb51}{get\+Received\+Frame}} (\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \texorpdfstring{$\ast$}{*}dest\+Frame\+Buffer)
\begin{DoxyCompactList}\small\item\em Define the destination, the next received \doxylink{class_frame}{Frame} should be stored at. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_comm_interface_aea53cf3e71460f3a662c175958acb643}{received\+New\+Frame}} ()
\begin{DoxyCompactList}\small\item\em Check, if a new \doxylink{class_frame}{Frame} was received and stored at the in get\+Received\+Frame specified location the interface is waiting waiting for get\+Received\+Frame-\/call to specify the location, the next received frame should be stored at. \end{DoxyCompactList}\item 
\Hypertarget{class_comm_interface_a86287d0a0ecad690b5182bbe01b7f63f}\label{class_comm_interface_a86287d0a0ecad690b5182bbe01b7f63f} 
virtual void {\bfseries receive\+Cycle} ()
\begin{DoxyCompactList}\small\item\em Execution of receive-\/cycle, set the receive\+Buffer to nullptr after a new frame was received. \end{DoxyCompactList}\item 
\Hypertarget{class_comm_interface_a8670e37fdefcfeca579e99b6051fe3da}\label{class_comm_interface_a8670e37fdefcfeca579e99b6051fe3da} 
virtual void {\bfseries send\+Cycle} ()
\begin{DoxyCompactList}\small\item\em Execution of send-\/cycle, set the send\+Buffer to nullptr, after the frame, send\+Buffer was pointing at, was send. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_comm_interface_base}{Comm\+Interface\+Base}}}
\begin{DoxyCompactItemize}
\item 
void {\bfseries setup\+\_\+interface} ()
\begin{DoxyCompactList}\small\item\em Setup the Interface has to be called in Setup-\/function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_comm_interface_base_aec9a9fb6aa77428e8b9a65a33172f6a1}{send\+New\+Frame}} (\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \texorpdfstring{$\ast$}{*}send\+Frame)
\begin{DoxyCompactList}\small\item\em Add a new \doxylink{class_frame}{Frame} to the send-\/buffer. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_comm_interface_base_a23e0f975ebf29d40bde25eea58465bfa}{finished\+Sending}} ()
\begin{DoxyCompactList}\small\item\em Check, if the \doxylink{class_frame}{Frame} was sent and the \doxylink{class_comm_interface}{Comm\+Interface} is ready to send the next \doxylink{class_frame}{Frame}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_comm_interface_base_a2d2742daa73bbbf0b8317391c5c85a19}{get\+Received\+Frame}} (\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \texorpdfstring{$\ast$}{*}dest\+Frame\+Buffer)
\begin{DoxyCompactList}\small\item\em Define the destination, the next received \doxylink{class_frame}{Frame} should be copied to ba a pointer to an empty String-\/\+Object. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_comm_interface_base_a01c285fd2ea35bf3f081ee531e666def}{received\+New\+Frame}} ()
\begin{DoxyCompactList}\small\item\em Check, if a new \doxylink{class_frame}{Frame} was received. \end{DoxyCompactList}\item 
{\bfseries Comm\+Interface\+Base} ()
\begin{DoxyCompactList}\small\item\em Construct a new Comm Interface Base object. \end{DoxyCompactList}\item 
{\bfseries \texorpdfstring{$\sim$}{\string~}\+Comm\+Interface\+Base} ()
\begin{DoxyCompactList}\small\item\em Destroy the Comm-\/\+Interface Base object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \mbox{\hyperlink{class_comm_interface_a458e3da4ff47bdf6cc9f0a5f956c80dd}{send}} ()=0
\begin{DoxyCompactList}\small\item\em Send the frame, send\+Buffer is pointing to (has to be done in the derived class) \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{class_comm_interface_a81c74dee239a10522d30900943f64eb2}{receive}} ()=0
\begin{DoxyCompactList}\small\item\em Receive a \doxylink{class_frame}{Frame} (has to be done in the derived class) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_comm_interface_a500d5da6b485fc7450fbd8c9afd79374}\label{class_comm_interface_a500d5da6b485fc7450fbd8c9afd79374} 
interface\+\_\+type \texorpdfstring{$\ast$}{*} {\bfseries interface}
\begin{DoxyCompactList}\small\item\em pointer to an instance of the native bus-\/interface (setup outside of Bus\+Bricks) \end{DoxyCompactList}\item 
\Hypertarget{class_comm_interface_a158b6fec22811cd97732ca9bada05873}\label{class_comm_interface_a158b6fec22811cd97732ca9bada05873} 
\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \texorpdfstring{$\ast$}{*} {\bfseries send\+Buffer} = nullptr
\begin{DoxyCompactList}\small\item\em pointer to the next frame to be send, set to nullptr if \doxylink{class_frame}{Frame} was sent \end{DoxyCompactList}\item 
\Hypertarget{class_comm_interface_aa2cedf4d8d25ab2a0a04278c976383d9}\label{class_comm_interface_aa2cedf4d8d25ab2a0a04278c976383d9} 
\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \texorpdfstring{$\ast$}{*} {\bfseries receive\+Buffer} = nullptr
\begin{DoxyCompactList}\small\item\em pointer to String-\/object, a received frame should be stored at, set to nullptr if \doxylink{class_frame}{Frame} was copied to destination \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename interface\+\_\+type$>$\newline
class Comm\+Interface$<$ interface\+\_\+type $>$}
Template for generic communication-\/interface specifies a standardized interface to use for integrating any hardware-\/interface (e.\+g. Software\+Serial, One\+Wire...) into a Service-\/\+Interface The template ensures the correct handling of send-\/ and receive-\/buffers of the interface\+: 

send\+Buffer set to nullptr\+: the Interface is ready to send another frame send\+Buffer not set to nullptr\+: the frame, send\+Buffer is pointing to, has to be send next

rec\+Buffer set to nullptr\+: the frame received last was written to the destination successfully, no new receive-\/\+Buffer was defined rec\+Buffer not set to nullptr\+: the interface is waiting to receive a new frame to write it to the destination, rec\+Buffer is pointing to


\begin{DoxyTemplParams}{Template Parameters}
{\em interface\+\_\+type} & type of native bus-\/interface to setup the Comm-\/interface for (e.\+g. Software\+Serial) \\
\hline
\end{DoxyTemplParams}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_comm_interface_a036d6ee859c4aa352083626e3d852da2}\index{CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}!CommInterface@{CommInterface}}
\index{CommInterface@{CommInterface}!CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}}
\doxysubsubsection{\texorpdfstring{CommInterface()}{CommInterface()}}
{\footnotesize\ttfamily \label{class_comm_interface_a036d6ee859c4aa352083626e3d852da2} 
template$<$typename interface\+\_\+type $>$ \\
\mbox{\hyperlink{class_comm_interface}{Comm\+Interface}}$<$ interface\+\_\+type $>$\mbox{\hyperlink{class_comm_interface}{\+::\+Comm\+Interface}} (\begin{DoxyParamCaption}\item[{interface\+\_\+type \texorpdfstring{$\ast$}{*}}]{interface}{, }\item[{uint32\+\_\+t}]{baudrate}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Construct a new Comm-\/\+Interface object. 


\begin{DoxyParams}{Parameters}
{\em interface} & pointer to an instance of the native bus-\/interface (setup outside of Bus\+Bricks) \\
\hline
{\em baudrate} & bits per second \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_comm_interface_a9a27c7221b188bde1632a7c44f79b493}\index{CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}!finishedSending@{finishedSending}}
\index{finishedSending@{finishedSending}!CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}}
\doxysubsubsection{\texorpdfstring{finishedSending()}{finishedSending()}}
{\footnotesize\ttfamily \label{class_comm_interface_a9a27c7221b188bde1632a7c44f79b493} 
template$<$typename interface\+\_\+type $>$ \\
bool \mbox{\hyperlink{class_comm_interface}{Comm\+Interface}}$<$ interface\+\_\+type $>$\+::finished\+Sending (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Check, if the \doxylink{class_frame}{Frame} was sent and the \doxylink{class_comm_interface}{Comm\+Interface} is ready to send the next \doxylink{class_frame}{Frame} Interface is ready to send a new frame, if the send\+Buffer is nullpointer. 

\begin{DoxyReturn}{Returns}
true ready to accept a new frame to send next with send\+New\+Frame-\/function 

false frame, send\+Buffer is pointing to is not sent yet not ready to to accept a new frame in send\+New\+Frame-\/function 
\end{DoxyReturn}
\Hypertarget{class_comm_interface_a446d6dfeb4dd695c061f1ff1c926fb51}\index{CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}!getReceivedFrame@{getReceivedFrame}}
\index{getReceivedFrame@{getReceivedFrame}!CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}}
\doxysubsubsection{\texorpdfstring{getReceivedFrame()}{getReceivedFrame()}}
{\footnotesize\ttfamily \label{class_comm_interface_a446d6dfeb4dd695c061f1ff1c926fb51} 
template$<$typename interface\+\_\+type $>$ \\
void \mbox{\hyperlink{class_comm_interface}{Comm\+Interface}}$<$ interface\+\_\+type $>$\+::get\+Received\+Frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \texorpdfstring{$\ast$}{*}}]{dest\+Frame\+Buffer}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Define the destination, the next received \doxylink{class_frame}{Frame} should be stored at. 


\begin{DoxyParams}{Parameters}
{\em dest\+Frame\+Buffer} & pointer to String-\/object, the next received \doxylink{class_frame}{Frame} should be stored at \\
\hline
\end{DoxyParams}
\Hypertarget{class_comm_interface_a81c74dee239a10522d30900943f64eb2}\index{CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}!receive@{receive}}
\index{receive@{receive}!CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}}
\doxysubsubsection{\texorpdfstring{receive()}{receive()}}
{\footnotesize\ttfamily \label{class_comm_interface_a81c74dee239a10522d30900943f64eb2} 
template$<$typename interface\+\_\+type $>$ \\
virtual bool \mbox{\hyperlink{class_comm_interface}{Comm\+Interface}}$<$ interface\+\_\+type $>$\+::receive (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}



Receive a \doxylink{class_frame}{Frame} (has to be done in the derived class) 

\begin{DoxyReturn}{Returns}
true a new \doxylink{class_frame}{Frame} was received and stored at the String-\/obj, receive\+Buffer is pointing to 

false no new frame was received receive\+Buffer still empty 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{class_comm_interface__modbus_r_t_u_a50b42ad0a40a82ebe5a7749313ca2283}{Comm\+Interface\+\_\+modbus\+RTU}}.

\Hypertarget{class_comm_interface_aea53cf3e71460f3a662c175958acb643}\index{CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}!receivedNewFrame@{receivedNewFrame}}
\index{receivedNewFrame@{receivedNewFrame}!CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}}
\doxysubsubsection{\texorpdfstring{receivedNewFrame()}{receivedNewFrame()}}
{\footnotesize\ttfamily \label{class_comm_interface_aea53cf3e71460f3a662c175958acb643} 
template$<$typename interface\+\_\+type $>$ \\
bool \mbox{\hyperlink{class_comm_interface}{Comm\+Interface}}$<$ interface\+\_\+type $>$\+::received\+New\+Frame (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Check, if a new \doxylink{class_frame}{Frame} was received and stored at the in get\+Received\+Frame specified location the interface is waiting waiting for get\+Received\+Frame-\/call to specify the location, the next received frame should be stored at. 

\begin{DoxyReturn}{Returns}
true a new frame was received and stored, waiting for get\+Received\+Frame-\/call to specify receive\+Buffer 

false receive\+Buffer is specified, but still empty 
\end{DoxyReturn}
\Hypertarget{class_comm_interface_a458e3da4ff47bdf6cc9f0a5f956c80dd}\index{CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}!send@{send}}
\index{send@{send}!CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}}
\doxysubsubsection{\texorpdfstring{send()}{send()}}
{\footnotesize\ttfamily \label{class_comm_interface_a458e3da4ff47bdf6cc9f0a5f956c80dd} 
template$<$typename interface\+\_\+type $>$ \\
virtual bool \mbox{\hyperlink{class_comm_interface}{Comm\+Interface}}$<$ interface\+\_\+type $>$\+::send (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}



Send the frame, send\+Buffer is pointing to (has to be done in the derived class) 

\begin{DoxyReturn}{Returns}
true the frame, the send\+Buffer was pointing to, was sent 

false the frame, the send\+Buffer was pointing to, was not sent or send\+Buffer nullptr (no frame to be sent) 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{class_comm_interface__modbus_r_t_u_a0e78a2a6e3b5b029609c2b16c21bd85b}{Comm\+Interface\+\_\+modbus\+RTU}}.

\Hypertarget{class_comm_interface_a21c8ee8eddb3011e89b950f1b5264664}\index{CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}!sendNewFrame@{sendNewFrame}}
\index{sendNewFrame@{sendNewFrame}!CommInterface$<$ interface\_type $>$@{CommInterface$<$ interface\_type $>$}}
\doxysubsubsection{\texorpdfstring{sendNewFrame()}{sendNewFrame()}}
{\footnotesize\ttfamily \label{class_comm_interface_a21c8ee8eddb3011e89b950f1b5264664} 
template$<$typename interface\+\_\+type $>$ \\
void \mbox{\hyperlink{class_comm_interface}{Comm\+Interface}}$<$ interface\+\_\+type $>$\+::send\+New\+Frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \texorpdfstring{$\ast$}{*}}]{send\+Frame}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Specify the next frame to be sent by the interface, no overwrite, if the send\+Buffer is already pointing to another frame. 


\begin{DoxyParams}{Parameters}
{\em send\+Frame} & String-\/pointer to next frame to be send \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/felixschulke/\+Developement/\+Arduino/\+Modbus\+\_\+\+RTU/\+Modbus\+\_\+\+RTU/\+Modbus-\/\+RTU/lib/\+Interface/\mbox{\hyperlink{_comm_interface_8h}{Comm\+Interface.\+h}}\end{DoxyCompactItemize}
