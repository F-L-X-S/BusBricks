\doxysection{Comm\+Interface.\+h}
\hypertarget{_comm_interface_8h_source}{}\label{_comm_interface_8h_source}\index{/Users/felixschulke/Developement/Arduino/Modbus\_RTU/Modbus\_RTU/Modbus-\/RTU/lib/Interface/CommInterface.h@{/Users/felixschulke/Developement/Arduino/Modbus\_RTU/Modbus\_RTU/Modbus-\/RTU/lib/Interface/CommInterface.h}}
\mbox{\hyperlink{_comm_interface_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#ifndef\ COMMINTERFACE\_H}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#define\ COMMINTERFACE\_H}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#ifdef\ ARDUINO}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\ \ \ \ \#include\ <Arduino.h>}\ \ \ \ \textcolor{comment}{//\ include\ Arduino-\/Library\ for\ platformIO-\/build\ }}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\ \ \ \ \#include\ <mockArduino.h>}}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{using\ namespace\ }arduinoMocking;}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include<\mbox{\hyperlink{_frame_8h}{Frame.h}}>}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_comm_interface_base}{CommInterfaceBase}}}
\DoxyCodeLine{00029\ \{}
\DoxyCodeLine{00030\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_comm_interface_base_a28c489a3103fea57a2df4ef6cca41302}{setup\_interface}}()\{\};}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_comm_interface_base_aec9a9fb6aa77428e8b9a65a33172f6a1}{sendNewFrame}}(String*\ sendFrame)\{\};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_comm_interface_base_a23e0f975ebf29d40bde25eea58465bfa}{finishedSending}}()\{\};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_comm_interface_base_a2d2742daa73bbbf0b8317391c5c85a19}{getReceivedFrame}}(String*\ destFrameBuffer)\{\};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_comm_interface_base_a01c285fd2ea35bf3f081ee531e666def}{receivedNewFrame}}()\{\};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{class_comm_interface_base_ac1c7e099dc4fce9e9c93a93cbf3c133e}{CommInterfaceBase}}()\{\};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{class_comm_interface_base_a04f23e3fad55bfe5d149e78ec5843388}{\string~CommInterfaceBase}}()\{\};}
\DoxyCodeLine{00078\ \};}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00094\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \textcolor{keywordtype}{int}erface\_type>\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00095\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_comm_interface}{CommInterface}}:\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_comm_interface_base}{CommInterfaceBase}}\{}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ interface\_type*\ \mbox{\hyperlink{class_comm_interface_a500d5da6b485fc7450fbd8c9afd79374}{interface}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ String*\ \mbox{\hyperlink{class_comm_interface_a158b6fec22811cd97732ca9bada05873}{sendBuffer}}\ =\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ String*\ \mbox{\hyperlink{class_comm_interface_aa2cedf4d8d25ab2a0a04278c976383d9}{receiveBuffer}}\ =\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Send\ a\ Frame\ }}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ True,\ if\ a\ frame\ was\ send\ successfully\ }}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_comm_interface_a458e3da4ff47bdf6cc9f0a5f956c80dd}{send}}()\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_comm_interface_a81c74dee239a10522d30900943f64eb2}{receive}}()\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_comm_interface_a036d6ee859c4aa352083626e3d852da2}{CommInterface}}(interface\_type*\ \mbox{\hyperlink{class_comm_interface_a500d5da6b485fc7450fbd8c9afd79374}{interface}},\ uint32\_t\ baudrate):\ \mbox{\hyperlink{class_comm_interface_a500d5da6b485fc7450fbd8c9afd79374}{interface}}(\mbox{\hyperlink{class_comm_interface_a500d5da6b485fc7450fbd8c9afd79374}{interface}})\{\};\ }
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_comm_interface_a21c8ee8eddb3011e89b950f1b5264664}{sendNewFrame}}(String*\ sendFrame)\{}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_comm_interface_a158b6fec22811cd97732ca9bada05873}{sendBuffer}}\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_comm_interface_a158b6fec22811cd97732ca9bada05873}{sendBuffer}}\ =\ sendFrame;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ set\ the\ send-\/buffer-\/ptr\ to\ the\ Frame,\ that\ has\ to\ be\ sent\ }}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_comm_interface_a9a27c7221b188bde1632a7c44f79b493}{finishedSending}}()\{}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_comm_interface_a158b6fec22811cd97732ca9bada05873}{sendBuffer}}==\textcolor{keyword}{nullptr};}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_comm_interface_a446d6dfeb4dd695c061f1ff1c926fb51}{getReceivedFrame}}(String*\ destFrameBuffer)\{}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_comm_interface_aa2cedf4d8d25ab2a0a04278c976383d9}{receiveBuffer}}\ =\ destFrameBuffer;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ set\ the\ receive-\/buffer-\/ptr\ to\ the\ destination,\ the\ next\ received\ Frame\ should\ be\ stored\ at\ }}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_comm_interface_aea53cf3e71460f3a662c175958acb643}{receivedNewFrame}}()\{}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_comm_interface_aa2cedf4d8d25ab2a0a04278c976383d9}{receiveBuffer}}==\textcolor{keyword}{nullptr};}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_comm_interface_a86287d0a0ecad690b5182bbe01b7f63f}{receiveCycle}}()\{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Receiving}}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_comm_interface_a81c74dee239a10522d30900943f64eb2}{receive}}())\ \{}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_comm_interface_aa2cedf4d8d25ab2a0a04278c976383d9}{receiveBuffer}}\ =\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_comm_interface_a8670e37fdefcfeca579e99b6051fe3da}{sendCycle}}()\{\ \ \ }
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Sending}}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_comm_interface_a458e3da4ff47bdf6cc9f0a5f956c80dd}{send}}())\{}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_comm_interface_a158b6fec22811cd97732ca9bada05873}{sendBuffer}}\ =\ \textcolor{keyword}{nullptr};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \};\ }
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00203\ \};}
\DoxyCodeLine{00204\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ COMMINTERFACE\_H}}

\end{DoxyCode}
