\doxysection{Message\+\_\+service Class Reference}
\hypertarget{class_message__service}{}\label{class_message__service}\index{Message\_service@{Message\_service}}


\doxylink{class_service}{Service} class for handling messages and acknowledgments.  


Inheritance diagram for Message\+\_\+service\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_message__service}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_message__service_affc45896c13fb1ccf7af8708621d7568}{Message\+\_\+service}} (uint8\+\_\+t instance\+\_\+id)
\begin{DoxyCompactList}\small\item\em Constructor for {\ttfamily \doxylink{class_message__service}{Message\+\_\+service}} with default \doxylink{class_service}{Service} ID "{}m"{}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_message__service_a97d86af31342a27f39e16268df59f832}{Message\+\_\+service}} (uint8\+\_\+t instance\+\_\+id, uint8\+\_\+t service\+\_\+id)
\begin{DoxyCompactList}\small\item\em Constructor for {\ttfamily \doxylink{class_message__service}{Message\+\_\+service}} with a custom \doxylink{class_service}{Service} ID. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_message__service_a605f6a9ed4900558b52a80abd1144791}{stack\+Processing}} () override
\begin{DoxyCompactList}\small\item\em Processes all messages from the receive stack. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{class_message__service_a22ec667c9ac9f87f33b7c5eb1cbf4691}{get\+\_\+destination\+Id}} ()
\begin{DoxyCompactList}\small\item\em Retrieves the destination instance ID for the current response PDU in the send stack. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_message__service_aa8d198ccf700400339e3240e1c9c86e4}{send\+Message}} (char receiver\+Id, \mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} messagetext)
\begin{DoxyCompactList}\small\item\em Sends a new message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_service}{Service$<$ Message, STACKSIZE $>$}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Service} (uint8\+\_\+t service\+ID, uint8\+\_\+t instance\+ID)
\item 
uint8\+\_\+t \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_service_a4d0e8aca49451e363888ca46c2742b2e}{get\+\_\+\+Service\+ID}} () override
\begin{DoxyCompactList}\small\item\em Get pointer to the 1-\/byte Service\+ID of the \doxylink{class_service}{Service} (unique for each Service-\/template derived Class) \end{DoxyCompactList}\item 
uint8\+\_\+t \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{class_service_abd1295896aca84e6dd85c0973885b279}{get\+\_\+\+Instance\+ID}} () override
\begin{DoxyCompactList}\small\item\em Get pointer to the 1-\/byte Instance\+ID of the Service-\/instance (unique for each Instance of \doxylink{class_service}{Service} within the whole communication-\/network) \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{class_service_ac0c60bc735c64547dee269c6c3a62767}{impart\+\_\+pdu}} (\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \texorpdfstring{$\ast$}{*}pdu) override
\begin{DoxyCompactList}\small\item\em Add a new Content-\/\+Object created from a received payload to the services receive-\/\+Stack. The payload is the representation of the Content-\/\+Object, during the construction, the Content-\/object creates it\textquotesingle{}s content from the representation. The Content-\/object is added to the rec\+\_\+stack. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \mbox{\hyperlink{class_service_a601e6d2878ce2b292a3b7c6428f0d51f}{get\+\_\+response}} () override
\begin{DoxyCompactList}\small\item\em Get the get the response-\/payload, stored at the response\+\_\+pdu of the service instance ~\newline
 \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{class_service_ad0a6407e13cd84f81393d96273212822}{response\+Available}} () override
\begin{DoxyCompactList}\small\item\em Check, if a response of the service is available (services send\+Stack not empty) \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_service_a75817b19f202f1696c3609a3f9578cb9}{clear\+Response}} () override
\begin{DoxyCompactList}\small\item\em Clear the response-\/buffer (delete item, that was returned by get\+\_\+response from the service-\/send\+Stack) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_service_base}{Service\+Base}}}
\begin{DoxyCompactItemize}
\item 
virtual bool \mbox{\hyperlink{class_service_base_a4d01083248ca9afc41bcd36faa8b966d}{impart\+\_\+pdu}} (\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} \texorpdfstring{$\ast$}{*}pdu)=0
\begin{DoxyCompactList}\small\item\em Add a new Content-\/\+Object created from a received payload to the services receive-\/\+Stack. The payload is the representation of the Content-\/\+Object, during the construction, the Content-\/object creates it\textquotesingle{}s content from the representation. The Content-\/object is added to the rec\+\_\+stack. \end{DoxyCompactList}\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Service\+Base} ()
\begin{DoxyCompactList}\small\item\em Destroy the \doxylink{class_service}{Service} Base object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{class_service}{Service$<$ Message, STACKSIZE $>$}}}
\begin{DoxyCompactItemize}
\item 
void {\bfseries write\+\_\+response\+\_\+pdu} (\mbox{\hyperlink{class_message}{Message}} response\+\_\+object)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{class_service}{Service$<$ Message, STACKSIZE $>$}}}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t {\bfseries service\+ID}
\item 
uint8\+\_\+t {\bfseries instance\+ID}
\item 
\mbox{\hyperlink{class_content__stack}{Content\+\_\+stack}}$<$ \mbox{\hyperlink{class_message}{Message}}, stack\+Size $>$ {\bfseries rec\+\_\+stack}
\item 
\mbox{\hyperlink{class_content__stack}{Content\+\_\+stack}}$<$ \mbox{\hyperlink{class_message}{Message}}, stack\+Size $>$ {\bfseries send\+\_\+stack}
\item 
\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}} {\bfseries response\+\_\+pdu}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{class_service}{Service} class for handling messages and acknowledgments. 

The {\ttfamily \doxylink{class_message__service}{Message\+\_\+service}} class manages messages of type {\ttfamily \doxylink{class_message}{Message}}, processes incoming messages from the receive stack, and handles sending acknowledgments. It inherits from a \doxylink{class_service}{Service} for conetnt\+\_\+type \textquotesingle{}\doxylink{class_message}{Message}\textquotesingle{} ({\ttfamily \doxylink{class_service}{Service}\texorpdfstring{$<$}{<}\doxylink{class_message}{Message}, STACKSIZE\texorpdfstring{$>$}{>}}).\hypertarget{class_message__service_Constructors}{}\doxysubsection{\texorpdfstring{Constructors}{Constructors}}\label{class_message__service_Constructors}

\begin{DoxyItemize}
\item {\ttfamily \doxylink{class_message__service_affc45896c13fb1ccf7af8708621d7568}{Message\+\_\+service(uint8\+\_\+t instance\+\_\+id)}}\+: Constructs a {\ttfamily \doxylink{class_message__service}{Message\+\_\+service}} with a default service ID of "{}m"{}.
\item {\ttfamily \doxylink{class_message__service_a97d86af31342a27f39e16268df59f832}{Message\+\_\+service(uint8\+\_\+t instance\+\_\+id, uint8\+\_\+t service\+\_\+id)}}\+: Constructs a {\ttfamily \doxylink{class_message__service}{Message\+\_\+service}} with a custom service ID.
\end{DoxyItemize}\hypertarget{class_message__service_Methods}{}\doxysubsection{\texorpdfstring{Methods}{Methods}}\label{class_message__service_Methods}

\begin{DoxyItemize}
\item {\ttfamily void \doxylink{class_message__service_a605f6a9ed4900558b52a80abd1144791}{stack\+Processing()} override}\+: Processes all messages from the receive stack until it is empty. Adds acknowledgments to the send stack and prints received messages.
\item {\ttfamily uint8\+\_\+t \doxylink{class_message__service_a22ec667c9ac9f87f33b7c5eb1cbf4691}{get\+\_\+destination\+Id()}}\+: Retrieves the destination instance ID for the current response PDU.
\item {\ttfamily void \doxylink{class_message__service_aa8d198ccf700400339e3240e1c9c86e4}{send\+Message(char receiver\+Id, String messagetext)}}\+: Sends a new message with the specified receiver ID and message text.
\item {\ttfamily void send\+Ack(\+Message\texorpdfstring{$\ast$}{*} message)}\+: Adds an acknowledgment for the given message to the send stack.
\item {\ttfamily void print\+Message(\+Message\texorpdfstring{$\ast$}{*} message)}\+: Prints the content of the received message.
\end{DoxyItemize}

\begin{DoxyNote}{Note}

\begin{DoxyItemize}
\item The class handles both the processing of incoming messages and the sending of acknowledgments.
\item The {\ttfamily stack\+Processing} method is responsible for managing the receive and send stacks, ensuring messages are properly handled and acknowledged. 
\end{DoxyItemize}
\end{DoxyNote}


\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_message__service_affc45896c13fb1ccf7af8708621d7568}\index{Message\_service@{Message\_service}!Message\_service@{Message\_service}}
\index{Message\_service@{Message\_service}!Message\_service@{Message\_service}}
\doxysubsubsection{\texorpdfstring{Message\_service()}{Message\_service()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{class_message__service_affc45896c13fb1ccf7af8708621d7568} 
Message\+\_\+service\+::\+Message\+\_\+service (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{instance\+\_\+id}{}\end{DoxyParamCaption})}



Constructor for {\ttfamily \doxylink{class_message__service}{Message\+\_\+service}} with default \doxylink{class_service}{Service} ID "{}m"{}. 

Initializes the service with the given instance ID and a default service ID.


\begin{DoxyParams}{Parameters}
{\em instance\+\_\+id} & The instance ID for the service. \\
\hline
\end{DoxyParams}
\Hypertarget{class_message__service_a97d86af31342a27f39e16268df59f832}\index{Message\_service@{Message\_service}!Message\_service@{Message\_service}}
\index{Message\_service@{Message\_service}!Message\_service@{Message\_service}}
\doxysubsubsection{\texorpdfstring{Message\_service()}{Message\_service()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{class_message__service_a97d86af31342a27f39e16268df59f832} 
Message\+\_\+service\+::\+Message\+\_\+service (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{instance\+\_\+id}{, }\item[{uint8\+\_\+t}]{service\+\_\+id}{}\end{DoxyParamCaption})}



Constructor for {\ttfamily \doxylink{class_message__service}{Message\+\_\+service}} with a custom \doxylink{class_service}{Service} ID. 

Initializes the service with the given instance ID and a custom service ID.


\begin{DoxyParams}{Parameters}
{\em instance\+\_\+id} & The instance ID for the service. \\
\hline
{\em service\+\_\+id} & The custom service ID. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{class_message__service_a22ec667c9ac9f87f33b7c5eb1cbf4691}\index{Message\_service@{Message\_service}!get\_destinationId@{get\_destinationId}}
\index{get\_destinationId@{get\_destinationId}!Message\_service@{Message\_service}}
\doxysubsubsection{\texorpdfstring{get\_destinationId()}{get\_destinationId()}}
{\footnotesize\ttfamily \label{class_message__service_a22ec667c9ac9f87f33b7c5eb1cbf4691} 
uint8\+\_\+t Message\+\_\+service\+::get\+\_\+destination\+Id (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Retrieves the destination instance ID for the current response PDU in the send stack. 

\begin{DoxyReturn}{Returns}
uint8\+\_\+t The destination instance ID extracted from the message in the send stack. 
\end{DoxyReturn}
\Hypertarget{class_message__service_aa8d198ccf700400339e3240e1c9c86e4}\index{Message\_service@{Message\_service}!sendMessage@{sendMessage}}
\index{sendMessage@{sendMessage}!Message\_service@{Message\_service}}
\doxysubsubsection{\texorpdfstring{sendMessage()}{sendMessage()}}
{\footnotesize\ttfamily \label{class_message__service_aa8d198ccf700400339e3240e1c9c86e4} 
void Message\+\_\+service\+::send\+Message (\begin{DoxyParamCaption}\item[{char}]{receiver\+Id}{, }\item[{\mbox{\hyperlink{namespacearduino_mocking_a074bce778184555fd29d1370a36298bf}{String}}}]{messagetext}{}\end{DoxyParamCaption})}



Sends a new message. 

Constructs and sends a message with the specified receiver ID and message text. The message is added to the send stack for transmission.


\begin{DoxyParams}{Parameters}
{\em receiver\+Id} & char, The ID of the message receiver. \\
\hline
{\em messagetext} & String, The text of the message to be sent. \\
\hline
\end{DoxyParams}
\Hypertarget{class_message__service_a605f6a9ed4900558b52a80abd1144791}\index{Message\_service@{Message\_service}!stackProcessing@{stackProcessing}}
\index{stackProcessing@{stackProcessing}!Message\_service@{Message\_service}}
\doxysubsubsection{\texorpdfstring{stackProcessing()}{stackProcessing()}}
{\footnotesize\ttfamily \label{class_message__service_a605f6a9ed4900558b52a80abd1144791} 
void Message\+\_\+service\+::stack\+Processing (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Processes all messages from the receive stack. 

Processes each message in the receive stack until it is empty. For each message, it prints the message content to the serial output, generates and adds an acknowledgment PDU to the send stack, and removes the processed message from the receive stack. 

Reimplemented from \mbox{\hyperlink{class_service_a3eafa52c7f4bfe29698ba4a91c75dc75}{Service$<$ Message, STACKSIZE $>$}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/\+Users/felixschulke/\+Developement/\+Arduino/\+Modbus\+\_\+\+RTU/\+Modbus\+\_\+\+RTU/\+Modbus-\/\+RTU/lib/\+Message\+\_\+service/\mbox{\hyperlink{_message__service_8h}{Message\+\_\+service.\+h}}\item 
/\+Users/felixschulke/\+Developement/\+Arduino/\+Modbus\+\_\+\+RTU/\+Modbus\+\_\+\+RTU/\+Modbus-\/\+RTU/lib/\+Message\+\_\+service/Message\+\_\+service.\+cpp\end{DoxyCompactItemize}
